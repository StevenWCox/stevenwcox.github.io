<html><head><title>ApexBoost Library - BatchJob</title><script type='text/javascript' src='jquery-latest.js'></script><link rel='stylesheet' type='text/css' href='SfApexDoc.css' /> <script>$(document).ready(function() {$('.toggle_container').hide();
$('h2.trigger').click(function() {
$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);return false; });});
function ToggleBtnLabel(ctrl) {ctrl.value = (ctrl.value=='+' ? '-' : '+');}
function IsExpanded(ctrl) {return (ctrl.value == '-');}
function ToggleAll(e) {var cExpanded = 0;$('h2.trigger', $(e).closest('.class-model')).each(function() {if (!IsExpanded(this.firstChild)) {$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);cExpanded++;}});if (cExpanded == 0) {$('h2.trigger', $(e).closest('.class-model')).each(function() {$(this).toggleClass('active').next().slideToggle('fast');ToggleBtnLabel(this.firstChild);});}}
</script></head><body><div class='header'><table cellpadding='0' cellspacing='0'><tr><td><img id='logo' src='logo.png'/></td><td><h2>Apex<span class="boost">Boost</span> Library<br><span class="from">from <a href="https://lucidwaresolutions.com">Lucidware Solutions</a> (LWS)</span></h2></td></tr></table></div><div class='container'><div class='leftmenus'><ul><li><a href='index.html'>Home</a></li><li><a href='assert.html'>Assert</a></li><li><a href='assertexception.html'>AssertException</a></li><li><a href='batchjob.html'>BatchJob</a></li><li><a href='logger.html'>Logger</a></li><li><a href='query.html'>Query</a></li><li><a href='test.html'>Test</a></li><li><a href='triggerhandler.html'>TriggerHandler</a></li><li><a href='util.html'>Util</a></li></ul></div><div class='page'><div class='class-model'><h2 class='section-title'>BatchJob<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global inherited sharing class <a href='batchjob.html'>BatchJob</a> implements <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_interface_database_batchable.htm'>Database.Batchable</a>&#60;<a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_methods_system_sobject.htm'>sObject</a>&#62;, Database.AllowsCallouts, Database.RaisesPlatformEvents, Database.Stateful, <a href='https://developer.salesforce.com/docs/atlas.en-us.apexref.meta/apexref/apex_interface_system_schedulable.htm'>Schedulable</a></div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>A generic class for scheduled batch operations. Instead of requiring several new classes (batchable, schedulable, test...) for each job, this design allows you to add batch jobs as nested classes within an existing Apex class. The effect is to greatly reduce the number of Apex classes and amount of boiler-plate code.  <p><code>lws.BatchJob</code> handles all the plumbing (debug logging, exception logging, etc) and delegates the interesting work (your business logic) to your code. To use this  model, create a class that extends <code>lws.BatchJob.Handler</code> and override start and execute.</p>  <pre>
 public class Accounts {
 <br>
   public class Cleaner extends lws.BatchJob.Handler {
     public Database.QueryLocator start(Database.BatchableContext context) {
       return new lws.Query(Account.SObjectType)
         .whereOp(Account.Purge__c, '=', true)
         .locator();
     }
 <br>
     public void execute(Database.BatchableContext context, SObject[] scope) {
       delete scope;
     }
   }
 }
 </pre> <p><b>Usage:</b></p>  <pre>
 // execute an account cleaner job
 new Accounts.Cleaner().run();
 <br>
 // execute a batch with a custom batch size
 Database.executeBatch(new lws.BatchJob(new Accounts.Cleaner()), 5);
 <br>
 // schedule the job with a custom batch size, starting in 10 minutes
 System.scheduleBatch(new lws.BatchJob(new Accounts.Cleaner(), 5), 'cleaning...', 10);
 <br>
 // schedule the job with a custom batch size; run every day at 1pm
 System.schedule('cleaning...', '0 0 13 * * ?', new lws.BatchJob(new Accounts.Cleaner(), 5));
 </pre>  <p>In addition to Batchable and Schedulable, this class implements <code>Database.AllowsCallouts</code>,  <code>Database.RaisesPlatformEvents</code>, and <code>Database.Stateful</code>, which provide extra functionality. Any uncaught exceptions thrown by an lws.BatchJob will be logged by lws.Logger.</p></td></tr></table><h2 class='section-title methods'>Constructors</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>BatchJob</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='batchjob.html'>BatchJob</a>(Handler handler)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates a batch job with the specified handler. The resulting object can be passed to one of the System batch or schedule methods.</td></tr></table></div><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>BatchJob</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global <a href='batchjob.html'>BatchJob</a>(Handler handler, <a href='https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/langCon_apex_primitives.htm'>Integer</a> batchSize)</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Creates a batch job with the specified handler and batch size. The resulting object can be passed to one of the System batch or schedule methods.</td></tr></table></div></div><div class='class-model'><h2 class='section-title child'>BatchJob.Handler<span><input type='button' value='+/- all' onclick='ToggleAll(this);' /></span></h2><div class='toggle_container_subtitle'>global inherited sharing virtual class Handler</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Extend this class to provide the logic for a schedulable batch job. See  the <code>lws.BatchJob</code> documentation for details and usage.</td></tr></table><h2 class='section-title methods'>Methods</h2><h2 class='trigger'><input type='button' value='+'/>&nbsp;&nbsp;<a href='#'>run</a></h2><div class='toggle_container'><div class='toggle_container_subtitle'>global void run()</div><table class='details' rules='all' border='1' cellpadding='6'><tr><th>Description</th><td>Executes the batch job immediately, using the default batch size.</td></tr></table></div></div></div><hr/><div id='footer'><center><a href='https://lucidwaresolutions.com/sfapexdoc'>Powered By SfApexDoc v1.4, from Lucidware Solutions</a></center></div></body></html>